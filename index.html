<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Echt oder Fake?</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    .score {
      position: absolute;
      top: 20px;
      background: white;
      padding: 10px 20px;
      border-radius: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      font-weight: 600;
    }

    .card-stack {
      position: relative;
      width: 90%;
      max-width: 350px;
      height: 450px;
    }

    .card {
      position: absolute;
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 24px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      padding: 30px;
      text-align: center;
      user-select: none;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .card::before,
    .card::after {
      position: absolute;
      font-size: 1.5rem;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .card::before {
      content: "❌ FAKE";
      color: red;
      top: 20px;
      left: 20px;
    }

    .card::after {
      content: "✅ ECHT";
      color: green;
      top: 20px;
      right: 20px;
    }

    .card.fake::before {
      opacity: 1;
    }

    .card.real::after {
      opacity: 1;
    }

    .popup {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255, 0, 0, 0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .popup-content {
      background: white;
      color: black;
      padding: 25px;
      border-radius: 16px;
      text-align: center;
      max-width: 80%;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    .popup-content h2 {
      color: #e74c3c;
    }

    .popup-content button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 1rem;
      background: #27ae60;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="score">Punkte: <span id="score">0</span></div>

  <div class="card-stack" id="cardStack"></div>

  <div class="popup" id="popup">
    <div class="popup-content">
      <h2>Falsch geraten!</h2>
      <p>Du hast <span id="finalScore">0</span> Punkt(e) erreicht.</p>
      <button onclick="restartGame()">Neu starten</button>
    </div>
  </div>

  <script>
    const realEvents = [
      "In Finnland gibt es ein Handy-Weitwurf-Turnier.",
      "Ein Pavian wurde in Südafrika als Zugbegleiter eingesetzt.",
      "Island verbot den Namen ‚Lucifer‘ offiziell.",
      "In Kanada wurde ein Elch als Trauzeuge eingetragen.",
      "In Japan wurde ein Roboter zum Bürgermeisterkandidaten."
    ];

    const fakeEvents = [
      "In der Schweiz wurde ein Fußballspiel mit Ziegen als Schiedsrichter getestet.",
      "In Polen dürfen Ampeln tanzen, wenn niemand hinsieht.",
      "In Island wurde ein Vulkan als Haus des Jahres ausgezeichnet.",
      "In Griechenland ist Eulenrufen im Sommer verboten.",
      "In Peru wurde ein Berg zur Nationalflagge erklärt."
    ];

    let score = 0;
    let cardStack = document.getElementById("cardStack");
    let scoreDisplay = document.getElementById("score");
    let popup = document.getElementById("popup");
    let finalScoreDisplay = document.getElementById("finalScore");

    function getRandomEvent() {
      const isReal = Math.random() < 0.5;
      const text = isReal
        ? realEvents[Math.floor(Math.random() * realEvents.length)]
        : fakeEvents[Math.floor(Math.random() * fakeEvents.length)];
      return { text, isReal };
    }

    function createCard() {
      const event = getRandomEvent();
      const card = document.createElement("div");
      card.className = "card";
      card.textContent = event.text;
      card.dataset.real = event.isReal;

      let offsetX = 0, startX = 0;

      card.addEventListener("touchstart", e => {
        startX = e.touches[0].clientX;
      });

      card.addEventListener("touchmove", e => {
        offsetX = e.touches[0].clientX - startX;
        const rotation = offsetX / 15;
        card.style.transform = `translateX(${offsetX}px) rotate(${rotation}deg)`;

        if (offsetX < -60) {
          card.classList.add("fake");
          card.classList.remove("real");
        } else if (offsetX > 60) {
          card.classList.add("real");
          card.classList.remove("fake");
        } else {
          card.classList.remove("fake", "real");
        }
      });

      card.addEventListener("touchend", () => {
        if (offsetX > 100) {
          // Swipe rechts → Echt
          handleAnswer(card, true);
        } else if (offsetX < -100) {
          // Swipe links → Fake
          handleAnswer(card, false);
        } else {
          // Reset
          card.style.transform = "translateX(0px) rotate(0deg)";
          card.classList.remove("fake", "real");
        }
      });

      cardStack.appendChild(card);
    }

    function handleAnswer(card, guessedReal) {
      const isReal = card.dataset.real === "true";
      if (guessedReal === isReal) {
        score++;
        scoreDisplay.textContent = score;
        card.style.transform = guessedReal
          ? "translateX(200%) rotate(20deg)"
          : "translateX(-200%) rotate(-20deg)";
        card.style.opacity = 0;
        setTimeout(() => {
          card.remove();
          createCard();
        }, 300);
      } else {
        finalScoreDisplay.textContent = score;
        popup.style.display = "flex";
      }
    }

    function restartGame() {
      score = 0;
      scoreDisplay.textContent = "0";
      popup.style.display = "none";
      cardStack.innerHTML = "";
      createCard();
    }

    // Start
    createCard();
  </script>

</body>
</html>