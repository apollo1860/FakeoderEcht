<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Echt oder Fake?</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: #f2f2f2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    .score {
      position: absolute;
      top: 20px;
      font-size: 1.2rem;
      color: #555;
      font-weight: bold;
    }

    .card-container {
      width: 90%;
      max-width: 350px;
      height: 420px;
      position: relative;
      margin-top: 60px;
    }

    .card {
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
      position: absolute;
      width: 100%;
      height: 100%;
      font-size: 1.2rem;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s ease;
      user-select: none;
      overflow: hidden;
      transform: translateX(0px) rotate(0deg);
    }

    .card::before {
      content: "❌ FAKE";
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 1.2rem;
      color: red;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .card::after {
      content: "✅ ECHT";
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 1.2rem;
      color: green;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .card.left::before {
      opacity: 1;
    }

    .card.right::after {
      opacity: 1;
    }

    .popup {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255, 0, 0, 0.85);
      color: white;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .popup-content {
      background: white;
      color: black;
      padding: 25px;
      border-radius: 12px;
      text-align: center;
      max-width: 80%;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    .popup-content button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 1rem;
      background: #27ae60;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="score">Punkte: <span id="score">0</span></div>

  <div class="card-container">
    <div class="card" id="card">Lade These ...</div>
  </div>

  <div class="popup" id="popup">
    <div class="popup-content">
      <h2>Falsch geraten!</h2>
      <p>Du hast <span id="finalScore">0</span> Punkt(e) erreicht.</p>
      <button onclick="restartGame()">Neu starten</button>
    </div>
  </div>

  <script>
    const realEvents = [
      "In Finnland gibt es ein Handy-Weitwurf-Turnier.",
      "Ein Pavian wurde in Südafrika als Zugbegleiter eingesetzt.",
      "Island verbot den Namen ‚Lucifer‘ offiziell.",
      "In Kanada wurde ein Elch als Trauzeuge eingetragen.",
      "In Japan wurde ein Roboter zum Bürgermeisterkandidaten."
    ];

    const fakeEvents = [
      "In der Schweiz wurde ein Fußballspiel mit Ziegen als Schiedsrichter getestet.",
      "In Polen dürfen Ampeln tanzen, wenn niemand hinsieht.",
      "In Island wurde ein Vulkan als Haus des Jahres ausgezeichnet.",
      "In Griechenland ist Eulenrufen im Sommer verboten.",
      "In Peru wurde ein Berg zur Nationalflagge erklärt."
    ];

    let score = 0;
    let current = {};
    const card = document.getElementById("card");
    const popup = document.getElementById("popup");
    const finalScoreDisplay = document.getElementById("finalScore");
    const scoreDisplay = document.getElementById("score");

    function getNewEvent() {
      const isReal = Math.random() < 0.5;
      const text = isReal
        ? realEvents[Math.floor(Math.random() * realEvents.length)]
        : fakeEvents[Math.floor(Math.random() * fakeEvents.length)];
      return { text, isReal };
    }

    function showNewCard() {
      current = getNewEvent();
      card.textContent = current.text;
      card.style.transform = "translateX(0px) rotate(0deg)";
      card.style.backgroundColor = "white";
      card.classList.remove("left", "right");
    }

    function handleAnswer(isRightSwipe) {
      const isCorrect = (isRightSwipe === current.isReal);
      if (isCorrect) {
        score++;
        scoreDisplay.textContent = score;
        showNewCard();
      } else {
        finalScoreDisplay.textContent = score;
        popup.style.display = "flex";
      }
    }

    function restartGame() {
      score = 0;
      scoreDisplay.textContent = 0;
      popup.style.display = "none";
      showNewCard();
    }

    // Touchsteuerung mit Live-Feedback
    let startX = null;

    card.addEventListener("touchstart", e => {
      startX = e.changedTouches[0].clientX;
    });

    card.addEventListener("touchmove", e => {
      const currentX = e.changedTouches[0].clientX;
      const deltaX = currentX - startX;
      const rotation = deltaX / 15;
      const opacity = Math.min(Math.abs(deltaX) / 150, 1);

      card.style.transform = `translateX(${deltaX}px) rotate(${rotation}deg)`;

      if (deltaX < -50) {
        card.classList.add("left");
        card.classList.remove("right");
        card.style.backgroundColor = `rgba(255, 200, 200, ${opacity})`;
      } else if (deltaX > 50) {
        card.classList.add("right");
        card.classList.remove("left");
        card.style.backgroundColor = `rgba(200, 255, 200, ${opacity})`;
      } else {
        card.classList.remove("left", "right");
        card.style.backgroundColor = "white";
      }
    });

    card.addEventListener("touchend", e => {
      const endX = e.changedTouches[0].clientX;
      const deltaX = endX - startX;

      if (deltaX > 100) {
        card.style.transform = "translateX(150%) rotate(10deg)";
        setTimeout(() => handleAnswer(true), 200);
      } else if (deltaX < -100) {
        card.style.transform = "translateX(-150%) rotate(-10deg)";
        setTimeout(() => handleAnswer(false), 200);
      } else {
        card.style.transform = "translateX(0px) rotate(0deg)";
        card.classList.remove("left", "right");
        card.style.backgroundColor = "white";
      }
    });

    // Start
    showNewCard();
  </script>

</body>
</html>
