<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Echt oder Fake?</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #a0c4ff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    .game-container {
      text-align: center;
      width: 90%;
      max-width: 400px;
    }

    .card {
      background: white;
      border-radius: 16px;
      padding: 40px 20px;
      font-size: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      user-select: none;
      transition: transform 0.3s ease, background-color 0.3s ease;
      position: absolute;
      width: 100%;
    }

    #card-container {
      position: relative;
      height: 300px;
      margin-bottom: 20px;
    }

    #score {
      font-size: 18px;
      margin-top: 20px;
    }

    #end-screen {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div id="card-container">
      <div id="card" class="card"></div>
    </div>
    <div id="score">Punkte: 0</div>
    <div id="end-screen" class="hidden">
      <div id="end-message"></div>
      <button onclick="location.reload()">Neustart</button>
    </div>
  </div>

  <script>
    const realEvents = [
      "Ein Mann überlebte einen Sprung aus einem Flugzeug ohne Fallschirm, weil er auf einem Ameisenhaufen landete.",
      "Ein Schüler hackte das Schwarze Brett seiner Schule und sagte Unterricht im Juli wegen Schneefall ab.",
      "Ein Paketbote warf ein Paket über den Zaun – es landete punktgenau in ein offenes Klo."
      // Du kannst hier beliebig viele echte Thesen ergänzen
    ];

    const fakeEvents = [
      "In Schweden wurde ein Gesetz beschlossen, das tägliches Saunieren an Arbeitsplätzen erlaubt.",
      "In Kanada wurde ein Elch offiziell zum Bürgermeister eines Dorfes gewählt – als Protestaktion.",
      "Japan führte versuchsweise „Stille Züge“ ein, in denen nicht gesprochen werden darf.",
      "In Frankreich wurde ein Weinfestival mit Traubenballons statt Weingläsern gefeiert.",
      "In Portugal gibt es angeblich eine U-Bahn-Station, die nur nachts und bei Vollmond hält."
      // Du kannst hier beliebig viele Fake-Thesen ergänzen
    ];

    let allEvents = [...realEvents.map(t => ({ text: t, isReal: true })), ...fakeEvents.map(t => ({ text: t, isReal: false }))];
    let availableEvents = [...allEvents];
    let currentEvent = null;
    let score = 0;

    const card = document.getElementById('card');
    const endScreen = document.getElementById('end-screen');
    const endMessage = document.getElementById('end-message');
    const scoreDisplay = document.getElementById('score');

    function getRandomEvent() {
      if (availableEvents.length === 0) {
        endGame("Alle Thesen geschafft!");
        return null;
      }
      const index = Math.floor(Math.random() * availableEvents.length);
      const e = availableEvents[index];
      availableEvents.splice(index, 1);
      return e;
    }

    function showEvent() {
      currentEvent = getRandomEvent();
      if (currentEvent) {
        card.innerText = currentEvent.text;
        card.style.transform = "translate(0, 0) rotate(0deg)";
        card.style.backgroundColor = "#fff";
      }
    }

    let startX = 0;

    card.addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
    });

    card.addEventListener('touchmove', e => {
      const deltaX = e.touches[0].clientX - startX;
      const rotate = deltaX * 0.1;
      card.style.transform = `translateX(${deltaX}px) rotate(${rotate}deg)`;
      if (deltaX > 0) {
        card.style.backgroundColor = '#d4fcd4'; // grün bei "echt"
      } else {
        card.style.backgroundColor = '#ffd6d6'; // rot bei "fake"
      }
    });

    card.addEventListener('touchend', e => {
      const deltaX = e.changedTouches[0].clientX - startX;
      if (Math.abs(deltaX) > 100) {
        const guessReal = deltaX > 0;
        if (guessReal === currentEvent.isReal) {
          score++;
          scoreDisplay.innerText = `Punkte: ${score}`;
          showEvent();
        } else {
          endGame("Falsch geraten!");
        }
      } else {
        card.style.transform = "translate(0, 0) rotate(0deg)";
        card.style.backgroundColor = "#fff";
      }
    });

    function endGame(message) {
      endScreen.classList.remove('hidden');
      endMessage.innerText = `${message}\nDeine Punktzahl: ${score}`;
      card.style.display = "none";
    }

    showEvent();
  </script>
</body>
</html>